#!/bin/zsh

thetop=$(top -l 1 -n 0 | grep "PhysMem:")
typeset -F usedmem=$(echo $thetop | awk '{print $2}' | sed 's/M//')
typeset -F unusedmem=$(echo $thetop | awk '{print $6}' | sed 's/M//')
integer percentage=$(((usedmem/(usedmem+unusedmem)) * 100))

bar=${(l.($percentage/10)..■.)}${(l.(10-$percentage/10)..╌.)}

echo -n $bar
